#!/usr/bin/zsh

# yt-dlp audio with search
function yta() {
    mpv --profile=audio --ytdl-format=bestaudio ytdl://ytsearch:"$*"
}

# Replace diff with git diff
function diff() {
    git diff --no-index "$1" "$2"
    return 0
}

function private_mode() {
    unset HISTFILE
    printf "zsh is running in private mode, history will not be persisted.\n"
}
bindkey -s '^P' 'private_mode\n'

function lfz() {
    local -r tmp="$(mktemp)"
    lf -last-dir-path="${tmp}" "$@"
    #ranger --choosedir="${tmp}" "$@"
    local -r dir="$(cat "${tmp}")"
    rm "${tmp}"
    if [[ "${dir}" != "$(pwd)" ]]; then
        z "${dir}"
    else
        return 0
    fi
}
bindkey -s '^N' '^ulfz\n'
