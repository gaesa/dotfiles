#!/usr/bin/zsh

# Replace diff with git diff
function diff() {
    git diff --no-index "$1" "$2"
    return 0
}

function rangercd() {
    local tmp="$(mktemp)"
    ranger --choosedir="$tmp" "$@"
    if [ -f "$tmp" ]; then
        local dir="$(cat "$tmp")"
        rm -f "$tmp"
        [ -d "$dir" ] && [ "$dir" != "$(pwd)" ] && cd "$dir"
    fi
}
bindkey -s '^N' 'rangercd\n'
